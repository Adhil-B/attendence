<html lang="en" class=""><head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/png" sizes="256x256" href="../images/logo.png">
        <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

        <title>SIMATS Exam Protal</title>

        <style>
            .fa-circle-info {
                font-size: 24px;
                /* Adjust size */
                color: #007bff;
                /* Change color */
                margin-left: 10px;
                /* Adjust margin */
            }

            .scrollable-list {
                max-height: calc(100vh - 280px);
                overflow-y: auto;
                margin-top: 10px;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 0;
                padding: 0;
                background-color: #f8f9fa;
                display: flex;
                height: 100vh;
                /* overflow-y: scroll; */
            }

            .sidebar {
                width: 374px;
                background-color: #fff;
                padding: 8px 20px;
                border-right: 1px solid #ddd;
                overflow-y: auto;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                /* height: calc(100% - 585px); */
                /* transition: transform 0.3s ease-in-out; */
                transition: transform 0.3s ease-in-out;
                transform: translateX(0);
                /* Sidebar is open */
                /* position: fixed; */
                left: 0;
                top: 0;
                bottom: 0;
                height: 100%;
                max-height: 800px;
                overflow: hidden;

            }

            /* Initially hide the sidebar content but keep the menu toggle visible */
            .sidebar.hidden {
                width: 50px;
                /* Keep the sidebar small */
                overflow: hidden;
                transition: width 0.3s ease;
                position: relative;
                height: 100vh;
            }

            .sidebar.hidden .progress-bar,
            .sidebar.hidden .status,
            .sidebar.hidden .submit-btn,
            .sidebar.hidden .co-level,
            .sidebar.hidden #status-text,
            .sidebar.hidden #progress-percentage,
            .sidebar.hidden .scrollable-list {
                display: none;
                /* Hide everything except the toggle icon */
            }

            #menu-toggle {
                cursor: pointer;
                z-index: 1000;
                font-size: 20px;
                /* margin-left: 10px; */
                color: #000;
            }

            .sidebar-icons {
                font-size: 1.25rem;
                margin-bottom: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                color: #343a40;
            }

            .sidebar-icons h5 {
                color: #000 !important;
                font-size: 20px;
            }

            /* Adjust when sidebar is open */
            .sidebar:not(.hidden) .menu-icon {
                position: static;
                /* Normal positioning when open */
            }

            .menu-icon {
                cursor: pointer;
                font-size: 20px;
                position: absolute;
                top: 10px;
                left: 14px;
                z-index: 1000;
                color: white;
            }

            .notification-icon {
                font-size: 1.2rem;
                color: #6c757d;
                cursor: pointer;
            }

            .progress-bar {
                width: 100%;
                height: 8px;
                background-color: #e9ecef;
                border-radius: 4px;
                margin-top: 30px;
            }

            .progress-bar div {
                height: 100%;
                width: 0%;
                background-color: #007bff;
                border-radius: 4px;
            }

            .status {
                margin-top: 20px;
                margin-bottom: 20px;
                color: #6c757d;
            }

            .status-sections {
                margin-bottom: 20px;
            }

            .status-sections h3 {
                font-size: 1rem;
                margin-bottom: 10px;
                cursor: pointer;
                color: #495057;
                transition: color 0.3s;
            }

            .status-sections h3.active {
                color: #007bff;
                font-weight: bold;
            }

            .questions-list {
                list-style: none;
                padding: 0;
            }

            .questions-list li {
                /* width: 240px; */
                width: 327px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 10px;
                /* border-bottom: 1px solid #ddd; */
                cursor: pointer;
                transition: background-color 0.3s;
                height: 63px;
            }


            .questions-list li:hover {
                background-color: #e9ecef;
            }

            .submit-btn {
                background-color: #007bff;
                color: white;
                padding: 10px;
                width: 100%;
                border: none;
                cursor: pointer;
                border-radius: 4px;
                transition: background-color 0.3s;
            }

            .submit-btn:hover {
                background-color: #0056b3;
            }

            .main-content {
                flex: 1;
                padding: 20px;
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                height: 100%;
                max-height: 790px;
                overflow-y: scroll;

            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid #ddd;
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            .header h4 {
                margin: 0;
                font-size: 1.5rem;
            }

            .timer {
                font-size: 1.2rem;
                color: #495057;
            }

            .question-image {
                text-align: center;
                margin: 20px 0;
            }

            .question-image img {
                max-width: 100%;
                height: calc(100vh - 440px);
                border-radius: 4px;
            }

            .answers {
                margin-bottom: 20px;
                display: grid;
                grid-template-columns: repeat(2, 1fr);
            }

            .answers label {
                padding: 10px;
                background-color: #f9f9f9;
                border: 1px solid #ddd;
                border-radius: 5px;
                margin-bottom: 10px;
                width: 97%;
                margin-right: 10px;
            }

            .answers input {
                margin-right: 10px;
            }

            .answers label:hover {
                border-color: #007bff;
            }

            .action-buttons {
                display: flex;
                justify-content: space-around;
                margin: 20px 0;
                margin-bottom: 20px !important;
            }

            .action-buttons button {
                padding: 10px 20px;
                border: none;
                cursor: pointer;
                border-radius: 4px;
                font-size: 1rem;
                transition: background-color 0.3s, color 0.3s;
                flex: 1;
                /* Make buttons take equal space */
                margin: 0 10px;
                /* Add horizontal spacing between buttons */

            }

            .save-btn,
            .skip-btn {
                background-color: #f8f9fa;
                /* Grey background for save and skip buttons */
                color: #495057;
            }

            .save-btn:hover,
            .skip-btn:hover {
                background-color: #ccc;
                /* Darker grey on hover */
            }

            .save-btn,
            .skip-btn {
                background-color: #e2e6ea;
                /* Darker grey on hover */
            }

            .submit-btn-main {
                background-color: #17C6ED;
                /* Light blue background for submit button */
                color: white;
            }

            .submit-btn-main:hover {
                background-color: #0FA3BB;
                /* Darker blue on hover */
            }

            @media screen and (max-width: 768px) {
                .sidebar {
                    display: none;
                }

                .main-content {
                    padding: 10px;
                    overflow: scroll !important;
                    height: 100%;
                    max-height: 720px;

                }
            }


            .saved-message {
                /* display: block; */
                /* margin-top: 5px; */
                font-size: 0.9em;
                color: grey;
                font-style: italic;
                width: 100%;
                position: relative;
                top: 20px;
                left: -80px;
            }

            /* li{
            background-color: #cccc;
            border-radius: 10px;
        } */

            input[type="radio"] {
                background-color: #0056b3 !important;
            }

            .status-sections h3 {
                padding: 10px 12px;
            }

            /* co-level css */
            .co-level .status-sections .nav-link {
                font-size: 10px;
                color: black;
                font-weight: bold;
                width: 65px !important;
            }

            .co-level .nav {
                text-align: center;
                /* color: #000 !important; */
            }

            .sidebar.hidden .notification-icon {
                display: none;
            }

            .status-list {
                display: flex;
                position: fixed;
                z-index: 222;
                background: #fff;
                width: 100%;
                /* height: 67px; */

            }

            @media (max-width:769px) {
                .sidebar {
                    width: 50%;
                    display: block;

                }

                .scrollable-list {
                    max-height: calc(100% - 340px) !important;

                }

                .main-content img {
                    height: calc(100vh - 750px);
                }
            }

            @media (max-width:1024px) {
                .scrollable-list {
                    max-height: calc(100% - 400px) !important;

                }

                .main-content img {
                    height: calc(100vh - 1100px);
                }

                .main-content {
                    max-height: 700px !important;
                }
            }

            .co-level .status-sections .active {
                background: #443627;
                color: #fff;
                /* font-weight: 500; */
            }
        </style>

    <style>:root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}</style></head>

    <body class="">

        <div class="sidebar" id="sidebar">
            <div class="sidebar-icons">
                <img style="width:40px; height:40px;" class="notification-icon" src="images/logo.png">
                <h5 class="notification-icon">SIMATS Exam Portal</h5>
                <i class="fas fa-bars menu-icon " id="menu-toggle"></i>
                <!-- <i class="fas fa-bell notification-icon" title="Notifications"></i> -->
            </div>
            <div class="progress-bar">
                <div style="width: 6.66667%;"></div>
            </div>
            <div class="status d-flex justify-content-between" style="font-size:12px;">
                <p id="status-text">You have completed 1 out of 15 questions.</p>
                <p id="progress-percentage">7%</p>
            </div>

            <button class="submit-btn mb-4" id="submit-all">Submit All Questions</button>

            <!-- co level section -->
            <!-- <div class="row co-level">
            <div class="nav nav-tabs" id="test" role="tablist">
                <div class="status-sections">
                    <h3 class="nav-link active" role="tab" aria-selected="true" data-bs-toggle="tab">C01</h3>
                </div>
                <div class="status-sections">
                    <h3 class="nav-link" role="tab" aria-selected="true" data-bs-toggle="tab">C02</h3>
                </div>

                <div class="status-sections">
                    <h3 class="nav-link" role="tab" aria-selected="true" data-bs-toggle="tab">C03</h3>
                </div>

                <div class="status-sections">
                    <h3 class="nav-link" data-bs-toggle="tab" role="tab" aria-selected="false">C04</h3>
                </div>

                <div class="status-sections">
                    <h3 class="nav-link" data-bs-toggle="tab" role="tab" aria-selected="false">C05</h3>
                </div>
            </div>
        </div> -->
            <!-- co-level end  -->

            <!-- Status Sections -->
            <div class="row scrollable-list">

                <div class="nav nav-tabs" id="test" role="tablist">


                    <div class="status-list">
                        <div class="status-sections">
                            <h3 id="pending-header" class="nav-link active" data-bs-target="#pending" role="tab" aria-controls="pending" aria-selected="true" data-bs-toggle="tab" onclick="setActiveStatus('Pending',this)" style="width: 110px; text-align: center; background-color: rgb(255, 180, 51); font-weight: 500; color: rgb(255, 255, 255);">Pending</h3>
                            <!-- <ul class="questions-list" id="pending-list"></ul> -->
                        </div>

                        <div class="status-sections">
                            <h3 id="completed-header" class="nav-link" data-bs-target="#completed" data-bs-toggle="tab" role="tab" aria-controls="completed" aria-selected="false" onclick="setActiveStatus('Completed',this)" tabindex="-1" style="background-color: transparent; font-weight: normal;">Completed</h3>
                            <!-- <ul class="questions-list" id="completed-list"></ul> -->
                        </div>

                        <div class="status-sections">
                            <h3 id="review-header" class="nav-link" data-bs-target="#review" data-bs-toggle="tab" role="tab" aria-controls="for review" aria-selected="false" onclick="setActiveStatus('Review',this)" tabindex="-1" style="background-color: transparent; font-weight: normal;">
                                For Review</h3>
                            <!-- <ul class="questions-list" id="for-review-list"></ul> -->
                        </div>
                    </div>


                    <div class="tab-content" id="myTabContent" style="margin-top: 50px;">

                        <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-header">
                            <ul class="questions-list" id="pending-list"><li><div class="question-content"><input type="radio" name="question-radio" value="1" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 2</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="2" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 3</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="3" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 4</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="4" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 5</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="5" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 6</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="6" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 7</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="7" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 8</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="8" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 9</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="9" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 10</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="10" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 11</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="11" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 12</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="12" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 13</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="13" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 14</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li><li><div class="question-content"><input type="radio" name="question-radio" value="14" style="margin-right: 10px;"><span class="question-number-display" style="display: inline-block; width: 80px; white-space: nowrap;">Question 15</span><span class="saved-message"></span><i style="position: relative; left: 85px; cursor: pointer;"></i></div></li></ul>

                        </div>

                        <div class="tab-pane fade" id="completed" role="tabpanel" aria-labelledby="completed-header">
                            <ul class="questions-list" id="completed-list"></ul>

                        </div>

                        <div class="tab-pane fade" id="review" role="tabpanel" aria-labelledby="review-header">
                            <ul class="questions-list" id="for-review-list"></ul>


                        </div>

                    </div>
                </div>
            </div>
            <!-- Status Sections end -->

        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
				<h5>Register No: <span id="rnumber">192424040</span></h5>
                <h5><strong><span id="subject-code">CSA07</span> - <span id="subject_name">Computer Networks</span></strong></h5>
				
                <!-- <div class="timer">Remaining: <span id="timer">10:00</span></div> -->
                <form name="cd">
                    <input type="hidden" name="" id="timeExamLimit" value="15">
                    <!--<h6><strong><label>Time : </label></strong></h6>-->
                    <input style="border:none;background-color: transparent;color:blue;font-size: 25px;" name="disp" type="text" class="clock" id="txt" value="00:00" size="5" readonly="true">
                </form>
            </div>
            <div class="d-flex justify-content-center align-items-center">
                <h5 id="question-number-display">Question 2</h5>
            </div>

            <div class="question-image">
                <img id="question-image" src="img/Null" alt="">
            </div>

            <div class="question-text mb-4" id="question-text">What is the capital of France?</div>
            <div class="answers" id="answers"><label><input type="radio" name="answer" value="Paris"> Paris</label><label><input type="radio" name="answer" value="London"> London</label><label><input type="radio" name="answer" value="Berlin"> Berlin</label><label><input type="radio" name="answer" value="Madrid"> Madrid</label></div>
            <div class="action-buttons mb-4">
                <button class="save-btn" id="save-review" disabled="">Save for Review</button>
                <button class="submit-btn-main" id="submit-answer">Next</button>
               <button class="skip-btn" id="skip-question" disabled="">Skip</button>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		
        <script>
            document.getElementById("menu-toggle").addEventListener("click", function() {
                document.getElementById("sidebar").classList.toggle("hidden");
            });
        </script>

        <script>
            let totalQuestions = 15;
            let answeredQuestions = 0;
            let currentQuestionIndex = 0;
            let activeStatus = 'Pending'; // Set default status to 'Pending'
            let questions = [];

            // Fetch questions using AJAX from selectquestions.php
            $.ajax({
                url: 'https://attendence-mocha.vercel.app/q.json',
                method: 'GET',
                dataType: 'json',
                success: function(response) {
                    if (response.status === 200) {
                        let responseData = response.data[0]; // Extract the first data object

                        UserId = responseData.user_id;
                        ExamId = responseData.course;
                        course_name = responseData.courseName;
						subject_name = responseData.subject_name;
						rnumber = responseData.rnumber;
                        timeLimit = responseData.timelimit

                        document.getElementById('subject-code').textContent = course_name;
						document.getElementById('subject_name').textContent = subject_name;
						document.getElementById('rnumber').textContent = rnumber;

                        document.getElementById('timeExamLimit').value = timeLimit;

                        // Start the timer after setting the time limit
                        startTimer();

                        totalQuestions = Object.values(responseData.questions).reduce((sum, co) => sum + co.length, 0);

                        // Flatten all CO questions into a single array
                        questions = [];
                        Object.keys(responseData.questions).forEach(co => {
                            responseData.questions[co].forEach(q => {
                                questions.push({
                                    id: q.eqt_id,
                                    question: q.exam_question,
                                    image: 'img/' + q.imagepath,
                                    co_level: q.co_level,
                                    answers: [q.exam_ch1, q.exam_ch2, q.exam_ch3, q.exam_ch4],
                                    correct_answer: q.exam_answer,
                                    status: q.exam_status
                                });
                            });
                        });

                        // Call functions to render the questions
                        displayQuestion();
                        renderQuestion();
                        renderQuestionsByStatus(); // Display pending questions by default
                    } else {
                        alert('Failed to load questions');
                    }
                },
                error: function(error) {
                    console.log('Error fetching questions:', error);
                    alert('Error loading questions');
                }
            });


            const questionStatuses = Array(totalQuestions).fill('Pending');

            // Elements
            const progressBar = document.querySelector('.progress-bar div');
            const statusText = document.getElementById('status-text');
            const progressPercentage = document.getElementById('progress-percentage');
            const pendingList = document.getElementById('pending-list');
            const completedList = document.getElementById('completed-list');
            const reviewList = document.getElementById('for-review-list');
            const questionImage = document.getElementById('question-image');
            const questionText = document.getElementById('question-text');
            const answersContainer = document.getElementById('answers');

            function init() {
                activeStatus = 'Pending'; // Set default active status to Pending
                setActiveStatus('Pending'); // Show pending questions by default
                renderQuestionsByStatus(); // Render pending questions by default
                updateProgressBar();
                renderQuestion(); // Display the first question immediately after loading

            }

            // Function to display a question
            function displayQuestion() {
                if (currentQuestionIndex < totalQuestions) {
                    const currentQuestion = questions[currentQuestionIndex];

                    // Update the DOM with the current question and answers
                    $('#question').text(currentQuestion.question);
                    $('#question-image').attr('src', currentQuestion.image);
                    $('#answer1').text(currentQuestion.answers[0]);
                    $('#answer2').text(currentQuestion.answers[1]);
                    $('#answer3').text(currentQuestion.answers[2]);
                    $('#answer4').text(currentQuestion.answers[3]);
                } else {
                    alert('No more questions');
                }
            }

            function renderQuestion() {
                const currentQuestion = questions[currentQuestionIndex];

                // Update the question text and image
                questionText.innerText = currentQuestion.question;
                questionImage.src = currentQuestion.image;
                renderAnswers(currentQuestion.answers);

                // Update the question number display
                $('#question-number-display').text(`Question ${currentQuestionIndex + 1}`);
            }

            function renderAnswers(answers) {
                answersContainer.innerHTML = '';
                const currentQuestionId = questions[currentQuestionIndex].id;
                const savedAnswer = userAnswers[currentQuestionId];

                answers.forEach((answer, index) => {
                    const label = document.createElement('label');
                    const isChecked = savedAnswer?.answer === answer ? 'checked' : '';

                    label.innerHTML = `<input type="radio" name="answer" value="${answer}" ${isChecked}> ${answer}`;
                    answersContainer.appendChild(label);
                });
            }

            function updateProgressBar() {
                const percentage = (answeredQuestions / totalQuestions) * 100;
                progressBar.style.width = `${percentage}%`;
                statusText.innerText = `You have completed ${answeredQuestions} out of ${totalQuestions} questions.`;
                progressPercentage.innerText = `${Math.round(percentage)}%`;
            }

            function renderQuestionsByStatus() {
                pendingList.innerHTML = '';
                completedList.innerHTML = '';
                reviewList.innerHTML = '';

                questions.forEach((question, index) => {
                    if (questionStatuses[index] === activeStatus) {
                        const listItem = document.createElement('li'); // Create the <li> element

                        // Create a container div for the content inside the <li>
                        const contentDiv = document.createElement('div');
                        contentDiv.className = 'question-content'; // Optional: for styling the content inside each <li>

                        // Create the radio input
                        const radioInput = document.createElement('input');
                        radioInput.type = 'radio';
                        radioInput.name = 'question-radio'; // Using the same name for grouping the radio buttons
                        radioInput.value = index; // Assigning the index as the value
                        radioInput.style.marginRight = '10px'; // Adds space between radio button and text

                        // Create the circle info icon
                        const infoIcon = document.createElement('i');
                        // infoIcon.className = 'fa fa-info-circle'; // Using Font Awesome class
                        infoIcon.style.position = 'relative'; // Adds space between text and icon
                        infoIcon.style.left = '85px';
                        infoIcon.style.cursor = 'pointer'; // Makes the icon clickable, like a button

                        // Create a span for the "Saved" message, initially empty
                        const savedMessage = document.createElement('span');
                        savedMessage.className = 'saved-message';
                        // savedMessage.textContent = 'Not-Attempted'; // Change to the message you want to display

                        // Create a span for the question number display
                        const questionNumberSpan = document.createElement('span');
                        questionNumberSpan.className = 'question-number-display'; // Optional class for styling
                        questionNumberSpan.style.display = "inline-block";
                        questionNumberSpan.style.width = "80px";
                        questionNumberSpan.style.whiteSpace = 'nowrap';
                        questionNumberSpan.textContent = `Question ${index + 1}`; // Set initial text

                        // Append elements to the contentDiv
                        contentDiv.appendChild(radioInput);
                        contentDiv.appendChild(questionNumberSpan); // Use the span for displaying the question number
                        contentDiv.appendChild(savedMessage);
                        contentDiv.appendChild(infoIcon);

                        // Append the contentDiv to the listItem
                        listItem.appendChild(contentDiv);

                        // Add click event to the listItem for question navigation
                        listItem.addEventListener('click', () => {
                            currentQuestionIndex = index;
                            renderQuestion();

                            // Update the question number display when a new question is selected
                            questionNumberSpan.textContent = `Question ${index + 1}`;
                        });

                        // Append the listItem to the appropriate status list
                        if (activeStatus === 'Pending') {
                            pendingList.appendChild(listItem);
                        } else if (activeStatus === 'Completed') {
                            completedList.appendChild(listItem);
                        } else if (activeStatus === 'Review') {
                            reviewList.appendChild(listItem);
                        }
                    }
                });
            }

            function setActiveStatus(status, element = null) {
                activeStatus = status;

                // Reset all headers in scrollable-list
                document.querySelectorAll('.scrollable-list .status-sections h3').forEach(header => {
                    header.classList.remove('active'); // Remove active class from all headers
                    header.style.backgroundColor = "transparent"; // Reset background
                    header.style.color = ""; // Reset text color
                    header.style.fontWeight = "normal"; // Reset font weight
                });

                // Activate the clicked header
                let activeHeader = document.getElementById(`${status.toLowerCase()}-header`);
                if (activeHeader) {
                    activeHeader.classList.add('active');

                    // Define colors for statuses
                    const colors = {
                        "pending": {
                            bg: "#FFB433",
                            text: "#fff",
                            fontWeight: "500"
                        },
                        "completed": {
                            bg: "green",
                            text: "#fff",
                            fontWeight: "500"
                        },
                        "review": {
                            bg: "#92C7CF",
                            text: "#fff",
                            fontWeight: "500"
                        }
                    };

                    let statusKey = status.toLowerCase();
                    if (colors[statusKey]) {
                        activeHeader.style.backgroundColor = colors[statusKey].bg;
                        activeHeader.style.color = colors[statusKey].text;
                        activeHeader.style.fontWeight = colors[statusKey].fontWeight;
                    }
                }

                renderQuestionsByStatus(); // Refresh displayed questions
            }

            // Function to handle errors and display messages to the user
            function handleError(response) {
                switch (response.status) {
                    case 400:
                        alert(response.message);
                        break;
                    case 401:
                        alert('Invalid Input: ' + response.message);
                        break;
                    case 402:
                        alert('Validation Error: ' + response.message);
                        break;
                    case 403:
                        alert('Access Denied: ' + response.message);
                        break;
                    case 405:
                        alert('Method Not Allowed: ' + response.message);
                        break;
                    case 500:
                        alert('Server Error: ' + response.message);
                        break;
                    default:
                        alert('Unknown Error: ' + response.message);
                        break;
                }
            }

            let userAnswers = {}; // Array to store user answers
            let isSubmitting = false; // Flag to prevent duplicate submissions

            // Function to save a single answer
            function saveAnswer(questionId, answer, coLevel) {
                if (isSubmitting) return; // Prevent submission if already in progress
                isSubmitting = true;

                $.ajax({
                    url: 'api/submitAnswers.php',
                    method: 'POST',
                    data: {
                        userId: UserId,
                        examId: ExamId,
                        answers: JSON.stringify([{
                            questionId: questionId,
                            answer: answer,
                            co_level: coLevel
                        }])
                    },
                    success: function(response) {
                        console.log('Answer saved successfully');
                    },
                    error: function(xhr) {
                        console.error('Error saving answer:', xhr.responseText);
                    },
                    complete: function() {
                        isSubmitting = false;
                    }
                });
            }

            function storeAnswer(questionId, answer) {
                const currentQuestion = questions.find(q => q.id === questionId);
                if (currentQuestion) {
                    userAnswers[questionId] = {
                        answer: answer,
                        co_level: currentQuestion?.co_level ?? 'N/A'
                    };
                    // Auto-save the answer immediately
                    saveAnswer(questionId, answer, currentQuestion.co_level);
                }
            }

            document.getElementById('submit-answer').addEventListener('click', () => {
                const selectedAnswer = document.querySelector('input[name="answer"]:checked');
                if (selectedAnswer) {
                    const questionId = questions[currentQuestionIndex].id;
                    storeAnswer(questionId, selectedAnswer.value);

                    if (questionStatuses[currentQuestionIndex] !== 'Completed') {
                        questionStatuses[currentQuestionIndex] = 'Completed';
                        answeredQuestions++;
                        updateProgressBar();
                    }

                    setActiveStatus(activeStatus);
                    if (answeredQuestions < totalQuestions) {
                        currentQuestionIndex++;
                        renderQuestion();
                    } else {
                        alert('You have answered all questions!');
                    }
                } else {
                    alert('Please select an answer before submitting.');
                }
            });

            document.getElementById('skip-question').addEventListener('click', () => {
                const questionIndex = currentQuestionIndex;

                // Only move to the next question without changing status.
                // If the question is already in 'Completed' or 'Review', don't change its status.
                if (questionStatuses[questionIndex] === 'Completed' || questionStatuses[questionIndex] === 'Review') {
                    // Simply move to the next question without changing the status.
                    if (currentQuestionIndex < totalQuestions - 1) {
                        currentQuestionIndex++;
                    } else {
                        alert('You have skipped the last question.');
                    }
                } else {
                    // For any other status, move to the next question without changing the status.
                    if (currentQuestionIndex < totalQuestions - 1) {
                        currentQuestionIndex++;
                    } else {
                        alert('You have skipped the last question.');
                    }
                }

                renderQuestion(); // Display the next question.
            });

            // Save Review
            document.getElementById('save-review').addEventListener('click', () => {
                const selectedAnswer = document.querySelector('input[name="answer"]:checked');
                if (selectedAnswer) {
                    const questionId = questions[currentQuestionIndex].id;
                    storeAnswer(questionId, selectedAnswer.value);
                    questionStatuses[currentQuestionIndex] = 'Review';
                    updateProgressBar();
                    setActiveStatus(activeStatus);

                    if (currentQuestionIndex < totalQuestions - 1) {
                        currentQuestionIndex++;
                        renderQuestion();
                    } else {
                        Toastify({
                            text: "You have saved the last question for review.",
                            duration: 3000,
                            close: true,
                            gravity: "top", // `top` or `bottom`
                            position: "right", // `left`, `center` or `right`
                            backgroundColor: "#4caf50", // A green color for success messages
                        }).showToast();
                    }
                } else {
                    Toastify({
                        text: "Please select an answer before saving for review.",
                        duration: 3000,
                        close: true,
                        gravity: "top",
                        position: "right",
                        backgroundColor: "#f39c12", // An orange color for warning messages
                    }).showToast();
                }
            });

            // Submit all answers and redirect to scoreboard
            document.getElementById('submit-all').addEventListener('click', function() {
                // Check if any questions are answered
                if (Object.keys(userAnswers).length === 0) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'No questions answered!',
                        text: 'You must answer at least one question before submitting.',
                        confirmButtonText: 'OK'
                    });
                    return;
                }

                // Format answers for submission
                const formattedAnswers = [];
                for (let i = 0; i < questions.length; i++) {
                    const question = questions[i];
                    const answer = userAnswers[question.id];
                    if (answer) {
                        formattedAnswers.push({
                            questionId: question.id,
                            answer: answer.answer,
                            co_level: question.co_level
                        });
                    }
                }

                // Confirm submission
                Swal.fire({
                    title: 'Submit Exam?',
                    text: "Are you sure you want to submit all questions? This action cannot be undone.",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, submit exam',
                    cancelButtonText: "No, continue exam"
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Show loading state
                        Swal.fire({
                            title: 'Submitting...',
                            text: 'Please wait while your answers are being submitted.',
                            allowOutsideClick: false,
                            showConfirmButton: false,
                            willOpen: () => {
                                Swal.showLoading();
                            }
                        });

                        // Submit answers
                        $.ajax({
                            url: 'api/submitAnswers.php',
                            method: 'POST',
                            data: {
                                userId: UserId,
                                examId: ExamId,
                                answers: JSON.stringify(formattedAnswers)
                            },
                            success: function(response) {
                                if (response.status === 200) {
                                    // Show success message
                                    Swal.fire({
                                        icon: 'success',
                                        title: 'Submitted Successfully!',
                                        text: 'Your answers have been submitted.',
                                        showConfirmButton: false,
                                        timer: 1500
                                    }).then(() => {
                                        // Create form for scoreboard redirect
                                        const form = document.createElement('form');
                                        form.method = 'POST';
                                        form.action = 'feedback.php';

                                        // Add userId input
                                        const userIdInput = document.createElement('input');
                                        userIdInput.type = 'hidden';
                                        userIdInput.name = 'userId';
                                        userIdInput.value = UserId;
                                        form.appendChild(userIdInput);

                                        // Add examId input
                                        const examIdInput = document.createElement('input');
                                        examIdInput.type = 'hidden';
                                        examIdInput.name = 'examId';
                                        examIdInput.value = ExamId;
                                        form.appendChild(examIdInput);

                                        // Submit form to redirect
                                        document.body.appendChild(form);
                                        form.submit();
                                    });
                                } else {
                                    Swal.fire({
                                        icon: 'error',
                                        title: 'Error',
                                        text: 'Failed to submit answers. Please try again.'
                                    });
                                }
                            },
                            error: function() {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Error',
                                    text: 'Failed to submit answers. Please try again.'
                                });
                            }
                        });
                    }
                });
            });
        </script>

        <script>
            let isFullScreen = false;
            let violationWarnings = {};
            let isProcessingViolation = false;
            const MAX_VIOLATIONS = 1; // Maximum allowed violations before termination
            const VIOLATION_COOLDOWN = 2000; // 2 seconds cooldown between violations

            // Function to submit exam and redirect
            function submitAndRedirect(reason, isWarning = false) {
                if (isProcessingViolation) return; // Prevent multiple simultaneous violations
                isProcessingViolation = true;

                if (isWarning) {
                    // Show warning alert
                    Swal.fire({
                        icon: 'warning',
                        title: 'First Warning!',
                        text: 'Violation detected: ' + reason + '. Next violation will terminate your exam.',
                        confirmButtonText: 'I Understand',
                        allowOutsideClick: false
                    }).finally(() => {
                        setTimeout(() => {
                            isProcessingViolation = false;
                        }, VIOLATION_COOLDOWN);
                    });
                    return;
                }

                // Show violation alert for termination
                Swal.fire({
                    icon: 'error',
                    title: 'Exam Terminated',
                    text: 'Your exam is being terminated due to: ' + reason,
                    showConfirmButton: false,
                    allowOutsideClick: false,
                    timer: 5000
                });

                // Format answers with violation info
                const formattedAnswers = Object.entries(userAnswers).map(([questionId, answer]) => ({
                    questionId: questionId,
                    answer: 'copy cat', // Mark answer as copy cat for violations
                    co_level: document.querySelector(`[data-question-id="${questionId}"]`)?.getAttribute('data-co-level') || '1'
                }));

                // Submit answers with violation record
                $.ajax({
                    url: 'api/submitAnswers.php',
                    method: 'POST',
                    data: {
                        userId: UserId,
                        examId: ExamId,
                        answers: JSON.stringify(formattedAnswers),
                        violation: true,
                        violationType: reason
                    },
                    success: function(response) {
                        if (response.status === 200) {
                            // Create form for scoreboard redirect
                            const form = document.createElement('form');
                            form.method = 'POST';
                            form.action = 'feedback.php';

                            const userIdInput = document.createElement('input');
                            userIdInput.type = 'hidden';
                            userIdInput.name = 'userId';
                            userIdInput.value = UserId;
                            form.appendChild(userIdInput);

                            const examIdInput = document.createElement('input');
                            examIdInput.type = 'hidden';
                            examIdInput.name = 'examId';
                            examIdInput.value = ExamId;
                            form.appendChild(examIdInput);

                            document.body.appendChild(form);
                            form.submit();
                        }
                    },
                    error: function() {
                        window.location.href = `feedback.php?userId=${UserId}&examId=${ExamId}`;
                    }
                });
            }

            function handleViolation(type, reason) {
                if (isProcessingViolation) return; // Prevent multiple rapid violations

                if (!violationWarnings[type]) {
                    violationWarnings[type] = 1;
                    submitAndRedirect(reason, true); // First warning
                } else {
                    submitAndRedirect(reason); // Terminate exam
                }
            }

            // Handle fullscreen changes with debounce
            let fullscreenTimeout = null;
            document.addEventListener('fullscreenchange', function() {
                if (fullscreenTimeout) clearTimeout(fullscreenTimeout);

                fullscreenTimeout = setTimeout(() => {
                    isFullScreen = document.fullscreenElement !== null;
                    if (!isFullScreen) {
                        handleViolation('fullscreen', 'Exiting full screen mode');
                    }
                }, 100); // Small delay to handle rapid changes
            });

            // Handle tab switching with debounce
            let visibilityTimeout = null;
            document.addEventListener('visibilitychange', function() {
                if (visibilityTimeout) clearTimeout(visibilityTimeout);

                visibilityTimeout = setTimeout(() => {
                    if (document.visibilityState === 'hidden') {
                        handleViolation('tabSwitch', 'Tab switching detected');
                    }
                }, 100); // Small delay to handle rapid changes
            });

            // Prevent copy-paste
            document.addEventListener('copy', function(e) {
                e.preventDefault();
                handleViolation('copy', 'Copy attempt detected');
            });

            document.addEventListener('paste', function(e) {
                e.preventDefault();
                handleViolation('paste', 'Paste attempt detected');
            });

            document.addEventListener('cut', function(e) {
                e.preventDefault();
                handleViolation('cut', 'Cut attempt detected');
            });

            // Prevent right-click
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                handleViolation('rightClick', 'Right-click attempt detected');
            });

            // Prevent keyboard shortcuts with debounce
            let keydownTimeout = null;
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey && !e.altKey) || (e.altKey && e.key === 'Tab')) {
                    e.preventDefault();

                    if (keydownTimeout) clearTimeout(keydownTimeout);

                    keydownTimeout = setTimeout(() => {
                        handleViolation('keyboardShortcut', 'Keyboard shortcut attempt detected');
                    }, 100); // Small delay to handle key combinations
                }
            });

            // Enforce full screen
            function enterFullScreen() {
                const element = document.documentElement;
                if (element.requestFullscreen) {
                    element.requestFullscreen();
                } else if (element.mozRequestFullScreen) {
                    element.mozRequestFullScreen();
                } else if (element.webkitRequestFullscreen) {
                    element.webkitRequestFullscreen();
                } else if (element.msRequestFullscreen) {
                    element.msRequestFullscreen();
                }
                isFullScreen = true;
            }

            // Start exam in full screen
            window.onload = function() {
                Swal.fire({
                    title: 'Starting Exam',
                    text: 'The exam will start in full screen mode. Any violation will result in a warning. A second violation will terminate your exam.',
                    icon: 'info',
                    showCancelButton: false,
                    confirmButtonText: 'Start Exam',
                    allowOutsideClick: false
                }).then((result) => {
                    if (result.isConfirmed) {
                        enterFullScreen();
                        init();
                    }
                });
            };
        </script>


        <!-- Prevent page refresh using multiple methods -->
        <script>

            function preventRefresh(e) {
                e = e || window.event;

                if (e.preventDefault) {
                    e.preventDefault();
                }

                // Cancel the event
                e.returnValue = false;
                return false;
            }

            // Prevent keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Prevent Ctrl+R (Windows/Linux) and Command+R (Mac)
                if ((e.ctrlKey || e.metaKey) && (e.key === 'r' || e.keyCode === 82)) {
                    preventRefresh(e);
                }

                // Prevent F5
                if (e.key === 'F5' || e.keyCode === 116) {
                    preventRefresh(e);
                }

                // Prevent Enter key in address bar
                if (e.key === 'Enter' || e.keyCode === 13) {
                    preventRefresh(e);
                }
            }, true);

            // Prevent right-click context menu
            document.addEventListener('contextmenu', preventRefresh);

            // Prevent form submission which might refresh
            document.addEventListener('submit', preventRefresh);

            // Prevent browser's back/forward navigation
            window.history.pushState(null, null, window.location.href);
            window.addEventListener('popstate', function() {
                window.history.pushState(null, null, window.location.href);
            });



            // Prevent clicking refresh button
            window.addEventListener('click', function(e) {
                if (e.target.id === 'refresh' || e.target.className.indexOf('refresh') !== -1) {
                    preventRefresh(e);
                }
            });

            // Force disable browser refresh button
            window.addEventListener('load', function() {
                window.history.pushState({}, '');
            });

            // Disable reload on focus/blur
            window.addEventListener('focus', preventRefresh);
            window.addEventListener('blur', preventRefresh);
        </script>

        
        <script>
            var mins, secs, countdownTimer;

            function startTimer() {
                var timeExamLimit = document.getElementById('timeExamLimit').value;
                mins = parseInt(timeExamLimit, 10); // Ensure it's a valid integer
                secs = 0;

                if (isNaN(mins) || mins <= 0) {
                    console.error("Invalid time limit");
                    return;
                }

                updateDisplay();
                runTimer();
            }

            function updateDisplay() {
                var display = (mins < 10 ? "0" : "") + mins + ":" + (secs < 10 ? "0" : "") + secs;
                document.forms["cd"].disp.value = display;
            }

            function runTimer() {
                // Show warning when 5 minutes remaining
                if (mins === 5 && secs === 0) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Time Alert',
                        text: '5 minutes remaining!',
                        timer: 3000,
                        showConfirmButton: false
                    });
                }

                // Show final warning when 1 minute remaining
                if (mins === 1 && secs === 0) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Time Alert',
                        text: 'Only 1 minute remaining! Your exam will be submitted automatically.',
                        timer: 3000,
                        showConfirmButton: false
                    });
                }

                if (mins === 0 && secs === 0) {
                    Swal.fire({
                        icon: 'info',
                        title: 'Time\'s Up!',
                        text: 'Your exam is being submitted...',
                        showConfirmButton: false,
                        allowOutsideClick: false
                    });

                    // Create form for POST submission
                    const form = document.createElement('form');
                    form.method = 'POST';
                    form.action = 'feedback.php';

                    // Add userId input
                    const userIdInput = document.createElement('input');
                    userIdInput.type = 'hidden';
                    userIdInput.name = 'userId';
                    userIdInput.value = UserId;
                    form.appendChild(userIdInput);

                    // Add examId input
                    const examIdInput = document.createElement('input');
                    examIdInput.type = 'hidden';
                    examIdInput.name = 'examId';
                    examIdInput.value = ExamId;
                    form.appendChild(examIdInput);

                    // Submit all answers first
                    $.ajax({
                        url: 'api/submitAnswers.php',
                        method: 'POST',
                        data: {
                            userId: UserId,
                            examId: ExamId,
                            answers: JSON.stringify(userAnswers)
                        },
                        success: function(response) {
                            if (response.status === 200) {
                                // After successful submission, submit form to scoreboard
                                document.body.appendChild(form);
                                form.submit();
                            } else {
                                console.error('Error submitting answers:', response);
                                // Still redirect to scoreboard even if submission fails
                                document.body.appendChild(form);
                                form.submit();
                            }
                        },
                        error: function(error) {
                            console.error('Error:', error);
                            // Still redirect to scoreboard even if submission fails
                            document.body.appendChild(form);
                            form.submit();
                        }
                    });
                    return;
                }

                if (secs === 0) {
                    secs = 59;
                    mins--;
                } else {
                    secs--;
                }

                updateDisplay();
                countdownTimer = setTimeout(runTimer, 1000);
            }

            window.onload = function() {

                init();
            };
        </script>

    

    </body></html>
